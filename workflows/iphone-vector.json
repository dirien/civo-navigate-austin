{"nodes":[{"width":300,"height":677,"id":"chatLocalAI_0","position":{"x":-273.70836703245766,"y":420.3122235770571},"type":"customNode","data":{"id":"chatLocalAI_0","label":"ChatLocalAI","version":2,"name":"chatLocalAI","type":"ChatLocalAI","baseClasses":["ChatLocalAI","BaseChatModel","LLM","BaseLLM","BaseLanguageModel","Runnable"],"category":"Chat Models","description":"Use local LLMs like llama.cpp, gpt4all using LocalAI","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["localAIApi"],"optional":true,"id":"chatLocalAI_0-input-credential-credential"},{"label":"Base Path","name":"basePath","type":"string","placeholder":"http://localhost:8080/v1","id":"chatLocalAI_0-input-basePath-string"},{"label":"Model Name","name":"modelName","type":"string","placeholder":"gpt4all-lora-quantized.bin","id":"chatLocalAI_0-input-modelName-string"},{"label":"Temperature","name":"temperature","type":"number","step":0.1,"default":0.9,"optional":true,"id":"chatLocalAI_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatLocalAI_0-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatLocalAI_0-input-topP-number"},{"label":"Timeout","name":"timeout","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatLocalAI_0-input-timeout-number"}],"inputAnchors":[{"label":"Cache","name":"cache","type":"BaseCache","optional":true,"id":"chatLocalAI_0-input-cache-BaseCache"}],"inputs":{"cache":"","basePath":"http://local-ai-61aa1316.local-ai.svc.cluster.local:80/v1","modelName":"ggml-gpt4all-j","temperature":0.9,"maxTokens":"","topP":"","timeout":""},"outputAnchors":[{"id":"chatLocalAI_0-output-chatLocalAI-ChatLocalAI|BaseChatModel|LLM|BaseLLM|BaseLanguageModel|Runnable","name":"chatLocalAI","label":"ChatLocalAI","type":"ChatLocalAI | BaseChatModel | LLM | BaseLLM | BaseLanguageModel | Runnable"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":-273.70836703245766,"y":420.3122235770571}},{"width":300,"height":382,"id":"cheerioWebScraper_0","position":{"x":236.57631873334446,"y":-14.488183220800863},"type":"customNode","data":{"id":"cheerioWebScraper_0","label":"Cheerio Web Scraper","version":1,"name":"cheerioWebScraper","type":"Document","baseClasses":["Document"],"category":"Document Loaders","description":"Load data from webpages","inputParams":[{"label":"URL","name":"url","type":"string","id":"cheerioWebScraper_0-input-url-string"},{"label":"Get Relative Links Method","name":"relativeLinksMethod","type":"options","description":"Select a method to retrieve relative links","options":[{"label":"Web Crawl","name":"webCrawl","description":"Crawl relative links from HTML URL"},{"label":"Scrape XML Sitemap","name":"scrapeXMLSitemap","description":"Scrape relative links from XML sitemap URL"}],"optional":true,"additionalParams":true,"id":"cheerioWebScraper_0-input-relativeLinksMethod-options"},{"label":"Get Relative Links Limit","name":"limit","type":"number","optional":true,"additionalParams":true,"description":"Only used when \"Get Relative Links Method\" is selected. Set 0 to retrieve all relative links, default limit is 10.","warning":"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)","id":"cheerioWebScraper_0-input-limit-number"},{"label":"Metadata","name":"metadata","type":"json","optional":true,"additionalParams":true,"id":"cheerioWebScraper_0-input-metadata-json"}],"inputAnchors":[{"label":"Text Splitter","name":"textSplitter","type":"TextSplitter","optional":true,"id":"cheerioWebScraper_0-input-textSplitter-TextSplitter"}],"inputs":{"url":"https://www.macrumors.com/roundup/iphone-15-pro/","textSplitter":"{{markdownTextSplitter_0.data.instance}}","relativeLinksMethod":"webCrawl","limit":"2","metadata":""},"outputAnchors":[{"id":"cheerioWebScraper_0-output-cheerioWebScraper-Document","name":"cheerioWebScraper","label":"Document","type":"Document"}],"outputs":{},"selected":false},"selected":false,"dragging":false,"positionAbsolute":{"x":236.57631873334446,"y":-14.488183220800863}},{"width":300,"height":557,"id":"pineconeUpsert_0","position":{"x":871.9610173336006,"y":-39.33162598112756},"type":"customNode","data":{"id":"pineconeUpsert_0","label":"Pinecone Upsert Document","version":1,"name":"pineconeUpsert","type":"Pinecone","baseClasses":["Pinecone","VectorStoreRetriever","BaseRetriever"],"category":"Vector Stores","description":"Upsert documents to Pinecone","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["pineconeApi"],"id":"pineconeUpsert_0-input-credential-credential"},{"label":"Pinecone Index","name":"pineconeIndex","type":"string","id":"pineconeUpsert_0-input-pineconeIndex-string"},{"label":"Pinecone Namespace","name":"pineconeNamespace","type":"string","placeholder":"my-first-namespace","additionalParams":true,"optional":true,"id":"pineconeUpsert_0-input-pineconeNamespace-string"},{"label":"Top K","name":"topK","description":"Number of top results to fetch. Default to 4","placeholder":"4","type":"number","additionalParams":true,"optional":true,"id":"pineconeUpsert_0-input-topK-number"}],"inputAnchors":[{"label":"Document","name":"document","type":"Document","list":true,"id":"pineconeUpsert_0-input-document-Document"},{"label":"Embeddings","name":"embeddings","type":"Embeddings","id":"pineconeUpsert_0-input-embeddings-Embeddings"}],"inputs":{"document":["{{cheerioWebScraper_0.data.instance}}"],"embeddings":"{{localAIEmbeddings_0.data.instance}}","pineconeIndex":"iphone-index","pineconeNamespace":"","topK":""},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","name":"retriever","label":"Pinecone Retriever","type":"Pinecone | VectorStoreRetriever | BaseRetriever"},{"id":"pineconeUpsert_0-output-vectorStore-Pinecone|VectorStore","name":"vectorStore","label":"Pinecone Vector Store","type":"Pinecone | VectorStore"}],"default":"retriever"}],"outputs":{"output":"retriever"},"selected":false},"selected":false,"positionAbsolute":{"x":871.9610173336006,"y":-39.33162598112756},"dragging":false},{"width":300,"height":378,"id":"markdownTextSplitter_0","position":{"x":-227.93206183924778,"y":-65.58442557992954},"type":"customNode","data":{"id":"markdownTextSplitter_0","label":"Markdown Text Splitter","version":1,"name":"markdownTextSplitter","type":"MarkdownTextSplitter","baseClasses":["MarkdownTextSplitter","RecursiveCharacterTextSplitter","TextSplitter","BaseDocumentTransformer","Runnable"],"category":"Text Splitters","description":"Split your content into documents based on the Markdown headers","inputParams":[{"label":"Chunk Size","name":"chunkSize","type":"number","default":1000,"optional":true,"id":"markdownTextSplitter_0-input-chunkSize-number"},{"label":"Chunk Overlap","name":"chunkOverlap","type":"number","optional":true,"id":"markdownTextSplitter_0-input-chunkOverlap-number"}],"inputAnchors":[],"inputs":{"chunkSize":"400","chunkOverlap":""},"outputAnchors":[{"id":"markdownTextSplitter_0-output-markdownTextSplitter-MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","name":"markdownTextSplitter","label":"MarkdownTextSplitter","type":"MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-227.93206183924778,"y":-65.58442557992954},"dragging":false},{"width":300,"height":378,"id":"localAIEmbeddings_0","position":{"x":217.32200973025226,"y":474.72998088570034},"type":"customNode","data":{"id":"localAIEmbeddings_0","label":"LocalAI Embeddings","version":1,"name":"localAIEmbeddings","type":"LocalAI Embeddings","baseClasses":["LocalAI Embeddings","Embeddings"],"category":"Embeddings","description":"Use local embeddings models like llama.cpp","inputParams":[{"label":"Base Path","name":"basePath","type":"string","placeholder":"http://localhost:8080/v1","id":"localAIEmbeddings_0-input-basePath-string"},{"label":"Model Name","name":"modelName","type":"string","placeholder":"text-embedding-ada-002","id":"localAIEmbeddings_0-input-modelName-string"}],"inputAnchors":[],"inputs":{"basePath":"http://local-ai-61aa1316.local-ai.svc.cluster.local:80/v1","modelName":"text-embedding-ada-002"},"outputAnchors":[{"id":"localAIEmbeddings_0-output-localAIEmbeddings-LocalAI Embeddings|Embeddings","name":"localAIEmbeddings","label":"LocalAI Embeddings","type":"LocalAI Embeddings | Embeddings"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":217.32200973025226,"y":474.72998088570034},"dragging":false},{"width":300,"height":281,"id":"retrievalQAChain_0","position":{"x":1470.2917139619983,"y":355.2162016134925},"type":"customNode","data":{"id":"retrievalQAChain_0","label":"Retrieval QA Chain","version":1,"name":"retrievalQAChain","type":"RetrievalQAChain","baseClasses":["RetrievalQAChain","BaseChain","Runnable"],"category":"Chains","description":"QA chain to answer a question based on the retrieved documents","inputParams":[],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"retrievalQAChain_0-input-model-BaseLanguageModel"},{"label":"Vector Store Retriever","name":"vectorStoreRetriever","type":"BaseRetriever","id":"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever"}],"inputs":{"model":"{{chatLocalAI_0.data.instance}}","vectorStoreRetriever":"{{pineconeUpsert_0.data.instance}}"},"outputAnchors":[{"id":"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable","name":"retrievalQAChain","label":"RetrievalQAChain","type":"RetrievalQAChain | BaseChain | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":1470.2917139619983,"y":355.2162016134925},"dragging":false}],"edges":[{"source":"cheerioWebScraper_0","sourceHandle":"cheerioWebScraper_0-output-cheerioWebScraper-Document","target":"pineconeUpsert_0","targetHandle":"pineconeUpsert_0-input-document-Document","type":"buttonedge","id":"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-pineconeUpsert_0-pineconeUpsert_0-input-document-Document","data":{"label":""}},{"source":"markdownTextSplitter_0","sourceHandle":"markdownTextSplitter_0-output-markdownTextSplitter-MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","target":"cheerioWebScraper_0","targetHandle":"cheerioWebScraper_0-input-textSplitter-TextSplitter","type":"buttonedge","id":"markdownTextSplitter_0-markdownTextSplitter_0-output-markdownTextSplitter-MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter","data":{"label":""}},{"source":"localAIEmbeddings_0","sourceHandle":"localAIEmbeddings_0-output-localAIEmbeddings-LocalAI Embeddings|Embeddings","target":"pineconeUpsert_0","targetHandle":"pineconeUpsert_0-input-embeddings-Embeddings","type":"buttonedge","id":"localAIEmbeddings_0-localAIEmbeddings_0-output-localAIEmbeddings-LocalAI Embeddings|Embeddings-pineconeUpsert_0-pineconeUpsert_0-input-embeddings-Embeddings","data":{"label":""}},{"source":"pineconeUpsert_0","sourceHandle":"pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever","target":"retrievalQAChain_0","targetHandle":"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","type":"buttonedge","id":"pineconeUpsert_0-pineconeUpsert_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","data":{"label":""}},{"source":"chatLocalAI_0","sourceHandle":"chatLocalAI_0-output-chatLocalAI-ChatLocalAI|BaseChatModel|LLM|BaseLLM|BaseLanguageModel|Runnable","target":"retrievalQAChain_0","targetHandle":"retrievalQAChain_0-input-model-BaseLanguageModel","type":"buttonedge","id":"chatLocalAI_0-chatLocalAI_0-output-chatLocalAI-ChatLocalAI|BaseChatModel|LLM|BaseLLM|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel","data":{"label":""}}]}